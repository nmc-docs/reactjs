"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[44],{1701:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"react-hooks/useMemo-useCallback","title":"useMemo() / useCallback()","description":"React.memo()","source":"@site/docs/react-hooks/useMemo-useCallback.md","sourceDirName":"react-hooks","slug":"/react-hooks/useMemo-useCallback","permalink":"/reactjs/react-hooks/useMemo-useCallback","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"useRef()","permalink":"/reactjs/react-hooks/useRef"},"next":{"title":"useContext()","permalink":"/reactjs/react-hooks/useContext"}}');var i=c(4848),o=c(8453);const r={sidebar_position:6},d="useMemo() / useCallback()",l={},t=[{value:"React.memo()",id:"reactmemo",level:2},{value:"useMemo(), useCallback()",id:"usememo-usecallback",level:2}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"usememo--usecallback",children:"useMemo() / useCallback()"})}),"\n",(0,i.jsx)(n.h2,{id:"reactmemo",children:"React.memo()"}),"\n",(0,i.jsx)(n.p,{children:"\u2757\ufe0fGi\u1ea3 s\u1eed ta c\xf3 m\u1ed9t component con \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u1edf trong m\u1ed9t component cha kh\xe1c, khi component cha \u0111\u01b0\u1ee3c re-render th\xec component con c\u0169ng \u0111\u01b0\u1ee3c re-render theo"}),"\n",(0,i.jsxs)(n.p,{children:["\ud83d\udd11 \u0110\u1ec3 kh\u1eafc ph\u1ee5c tr\xecnh tr\u1ea1ng n\xe0y, ta s\u1eed d\u1ee5ng m\u1ed9t HOC (High Order Component) c\u1ee7a React l\xe0 ",(0,i.jsx)(n.code,{children:"memo"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"React.memo(<Component />);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u26a0 L\u01b0u \xfd: n\u1ebfu component con c\xf3 ",(0,i.jsx)(n.code,{children:"props"})," m\xe0 ",(0,i.jsx)(n.code,{children:"props"})," \u0111\xf3 b\u1ecb thay \u0111\u1ed5i th\xec c\u0169ng s\u1ebd b\u1ecb re-render."]}),"\n",(0,i.jsx)(n.h2,{id:"usememo-usecallback",children:"useMemo(), useCallback()"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Nh\u01b0 \u0111\xe3 \u0111\u1ec1 c\u1eadp \u1edf tr\xean, n\u1ebfu component con c\xf3 ",(0,i.jsx)(n.code,{children:"props"})," m\xe0 ",(0,i.jsx)(n.code,{children:"props"})," \u0111\xf3 b\u1ecb thay \u0111\u1ed5i th\xec c\u0169ng s\u1ebd b\u1ecb re-render."]}),"\n",(0,i.jsxs)(n.li,{children:["C\xe1c ki\u1ec3u d\u1eef li\u1ec7u c\u01a1 b\u1ea3n c\u1ee7a JavaScript nh\u01b0 ",(0,i.jsx)(n.code,{children:"string"}),", ",(0,i.jsx)(n.code,{children:"number"}),", ",(0,i.jsx)(n.code,{children:"boolean"})," \u0111\u01b0\u1ee3c truy\u1ec1n d\u01b0\u1edbi d\u1ea1ng ",(0,i.jsx)(n.code,{children:"props"})," s\u1ebd ho\u1ea1t \u0111\u1ed9ng t\u1ed1t v\u1edbi ",(0,i.jsx)(n.code,{children:"React.memo()"})]}),"\n",(0,i.jsxs)(n.li,{children:["Tuy nhi\xean, ",(0,i.jsx)(n.code,{children:"Arrays"}),", ",(0,i.jsx)(n.code,{children:"Objects"}),", ",(0,i.jsx)(n.code,{children:"Functions"})," \u0111\u01b0\u1ee3c truy\u1ec1n d\u01b0\u1edbi d\u1ea1ng ",(0,i.jsx)(n.code,{children:"props"})," s\u1ebd kh\xf4ng ho\u1ea1t \u0111\u1ed9ng khi s\u1eed d\u1ee5ng v\u1edbi ",(0,i.jsx)(n.code,{children:"React.memo()"}),". M\u1eb7c d\xf9 ta truy\u1ec1n ",(0,i.jsx)(n.code,{children:"props"})," v\u1edbi ki\u1ec3u ",(0,i.jsx)(n.code,{children:"arrays"}),", ",(0,i.jsx)(n.code,{children:"objects"}),", ",(0,i.jsx)(n.code,{children:"functions"})," v\xe0 ta kh\xf4ng thay \u0111\u1ed5i hay \u0111\u1ed9ng ch\u1ea1m g\xec \u0111\u1ebfn n\xf3 nh\u01b0ng component v\u1eabn b\u1ecb re-render. L\xfd do l\xe0 b\u1edfi sau m\u1ed7i l\u1ea7n re-render, t\u1ea5t c\u1ea3 c\xe1c ",(0,i.jsx)(n.code,{children:"arrays"}),", ",(0,i.jsx)(n.code,{children:"objects"})," hay ",(0,i.jsx)(n.code,{children:"functions"})," b\xean trong component s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o m\u1edbi l\u1ea1i, g\xe2y ra s\u1ef1 thay \u0111\u1ed5i \u0111\u1ebfn tham chi\u1ebfu v\xe0 React s\u1ebd ghi nh\u1eadn c\xf3 s\u1ef1 thay \u0111\u1ed5i n\xean s\u1ebd re-render l\u1ea1i component."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["\ud83d\udd11 Do \u0111\xf3 ta s\u1eed d\u1ee5ng 2 hook \u0111\xf3 l\xe0 ",(0,i.jsx)(n.code,{children:"useMemo()"})," v\xe0 ",(0,i.jsx)(n.code,{children:"useCallback()"})]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"useCallback(fn, dependencies);\nuseMemo(calculateValue, dependencies);\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:"Trong \u0111\xf3:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fn"}),", ",(0,i.jsx)(n.code,{children:"calculateValue"}),": l\xe0 function m\xe0 ta kh\xf4ng mu\u1ed1n b\u1ecb t\u1ea1o m\u1edbi tham chi\u1ebfu."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dependencies"}),": l\xe0 m\u1ea3ng ph\u1ee5 thu\u1ed9c (ho\u1ea1t \u0111\u1ed9ng gi\u1ed1ng ",(0,i.jsx)(n.code,{children:"dependencies"})," trong ",(0,i.jsx)(n.code,{children:"useEffect()"})]}),"\n"]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["S\u1ef1 gi\u1ed1ng nhau gi\u1eefa ",(0,i.jsx)(n.code,{children:"useMemo()"})," v\xe0 ",(0,i.jsx)(n.code,{children:"useCallback()"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Nh\u1eadn v\xe0o 2 tham s\u1ed1: 1 l\xe0 ",(0,i.jsx)(n.code,{children:"function"}),", 2 l\xe0 ",(0,i.jsx)(n.code,{children:"dependencies"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Return memoized callback"}),"\n",(0,i.jsxs)(n.li,{children:["Ch\u1ec9 t\u1ea1o ra function/value m\u1edbi khi ",(0,i.jsx)(n.code,{children:"dependencies"})," thay \u0111\u1ed5i."]}),"\n",(0,i.jsxs)(n.li,{children:["N\u1ebfu d\xf9ng ",(0,i.jsx)(n.code,{children:"empty dependencies"})," th\xec kh\xf4ng bao gi\u1edd t\u1ea1o ra function/ value m\u1edbi."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["V\u1eady khi n\xe0o d\xf9ng ",(0,i.jsx)(n.code,{children:"useMemo()"}),", khi n\xe0o d\xf9ng ",(0,i.jsx)(n.code,{children:"useCallback()"})," ?"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"useCallback()"})," th\u01b0\u1eddng \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho ",(0,i.jsx)(n.strong,{children:"Functions"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"useMemo()"})," th\u01b0\u1eddng \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho ",(0,i.jsx)(n.strong,{children:"Arrays"})," , ",(0,i.jsx)(n.strong,{children:"Objects"})," ."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const getData = useCallback((type) => {\n  return fetch(`https://reqres.in/api/${type}`);\n}, []);\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'const fruits = useMemo(() => ["Orange", "Apple", "Banana"], []);\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"React.memo()"})," v\xe0 2 hook ",(0,i.jsx)(n.code,{children:"useCallback()"})," v\xe0 ",(0,i.jsx)(n.code,{children:"useMemo()"})," \u0111\u1ec1u gi\xfap component tr\xe1nh b\u1ecb re-render nhi\u1ec1u l\u1ea7n. V\xe0 l\u01b0u \xfd r\u1eb1ng n\xf3 ch\u1ec9 c\u1ea3i thi\u1ec7n m\u1ed9t ph\u1ea7n nh\u1ecf trong hi\u1ec7u n\u0103ng. Ta kh\xf4ng n\xean qu\xe1 l\u1ea1m d\u1ee5ng vi\u1ec7c s\u1eed d\u1ee5ng ",(0,i.jsx)(n.code,{children:"React.memo()"})," v\xe0 2 hook ",(0,i.jsx)(n.code,{children:"useCallback()"})," v\xe0 ",(0,i.jsx)(n.code,{children:"useMemo()"}),", n\u1ebfu s\u1eed d\u1ee5ng nhi\u1ec1u s\u1ebd g\xe2y qu\xe1 t\u1ea3i b\u1ed9 nh\u1edb (v\xec ph\u1ea3i ghi nh\u1edb nhi\u1ec1u). Ch\u1ec9 khi nh\u1eefng function x\u1eed l\xfd n\u1eb7ng, t\u1ed1n nhi\u1ec1u th\u1eddi gian hay c\xe1c component n\u1eb7ng ch\u1ee9a c\xe1c animations, chart,\u2026 th\xec ta m\u1edbi n\xean s\u1eed d\u1ee5ng n\xf3."]})})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,c)=>{c.d(n,{R:()=>r,x:()=>d});var s=c(6540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);